<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Paciente | AVA medical group</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Cores customizadas para o seu tema
                        'medical-blue': '#0077b6', // Ex: Azul escuro para cabeÃ§alho
                        'medical-green': '#4ade80', // Ex: Verde para botÃµes de sucesso
                    },
                    boxShadow: {
                        // Definindo sombra mais forte para o hover
                        '3xl': '0 35px 60px -15px rgba(0, 0, 0, 0.3)',
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            font-family: "Inter", sans-serif;
            transition: background 0.5s ease, color 0.5s ease;
        }
        .input-focus:focus {
            border-color: #2563eb !important;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
            outline: none;
        }
        /* Dark mode */
        body.dark {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        body.dark .bg-white {
            background-color: #2d3748;
            color: #e2e8f0;
        }
        body.dark input,
        body.dark textarea {
            background-color: #4a5568;
            color: #edf2f7;
            border-color: #718096;
        }
        /* ForÃ§a a cor do placeholder no dark mode */
        body.dark input::placeholder,
        body.dark textarea::placeholder {
            color: #a0aec0; /* Cor cinza claro */
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">

    <header class="w-full bg-medical-blue text-white flex flex-col items-center p-4 shadow-md relative">
        <img src="https://cdn-icons-png.flaticon.com/512/2966/2966327.png" 
            alt="Logo da ClÃ­nica" 
            class="w-16 h-16 mb-2">

        
        <h1 class="text-lg font-bold text-red-400">Cadastro de Paciente</h1>

        
        <div class="absolute top-4 right-4 flex items-center gap-4">
            
            <button id="darkToggle" class="text-white text-xl focus:outline-none">
                ðŸŒ™
            </button>
            
            <a href="pagina inicial e menu.html" 
                class="text-red-400 text-2xl font-bold hover:text-red-600">âœ•</a>
        </div>
    </header>
    <main class="flex-grow flex items-center justify-center p-4">
        <div class="bg-white p-8 md:p-10 rounded-2xl shadow-2xl w-full max-w-lg transition-all duration-300 transform hover:shadow-3xl">
            <form action="cadastro.php" method="POST" enctype="multipart/form-data" class="space-y-6" onsubmit="return validarFormulario();">

        
        <div>
            <label class="block text-sm font-semibold mb-1">Foto do Paciente</label>
            <input type="file" id="foto_paciente" name="foto_paciente" accept="image/*" 
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>

        
        <div>
            <label class="block text-sm font-semibold mb-1">CPF</label>
            <input type="text" id="cpf" name="cpf" maxlength="14" required placeholder="000.000.000-00"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>

        
        <div>
            <label class="block text-sm font-semibold mb-1">CEP</label>
            <input type="text" id="cep" name="cep" maxlength="9" required placeholder="00000-000"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>
        <div>
            <label class="block text-sm font-semibold mb-1">Bairro</label>
            <input type="text" id="bairro" name="bairro" readonly
                class="input-focus w-full p-3 border border-gray-300 rounded-lg bg-gray-100">
        </div>


        <div>
            <label class="block text-sm font-semibold mb-1">Cidade</label>
            <input type="text" id="cidade" name="cidade" readonly
                class="input-focus w-full p-3 border border-gray-300 rounded-lg bg-gray-100">
        </div>


        <div>
            <label class="block text-sm font-semibold mb-1">Estado</label>
            <input type="text" id="estado" name="estado" readonly
                class="input-focus w-full p-3 border border-gray-300 rounded-lg bg-gray-100">
        </div>


        
        <div>
            <label class="block text-sm font-semibold mb-1">Nome Completo</label>
            <input type="text" id="nome_paciente" name="nome_paciente" required placeholder="Digite o nome completo"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>

        <div>
            <label class="block text-sm font-semibold mb-1">E-mail</label>
            <input type="email" id="email" name="email" required placeholder="email@exemplo.com"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>

        <div>
            <label class="block text-sm font-semibold mb-1">Telefone</label>
            <input type="text" id="telefone" name="telefone" maxlength="15" required placeholder="(11) 98765-4321"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>

        <div>
            <label class="block text-sm font-semibold mb-1">Nome do MÃ©dico</label>
            <input type="text" id="nome_medico" name="nome_medico" required placeholder="Digite o nome do mÃ©dico"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg">
        </div>

        <div class="flex gap-4">
            <div class="w-1/2">
                <label class="block text-sm font-semibold mb-1">Data da Consulta</label>
                <input type="date" id="data_consulta" name="data_consulta" required
                    class="input-focus w-full p-3 border border-gray-300 rounded-lg">
            </div>
            <div class="w-1/2">
                <label class="block text-sm font-semibold mb-1">Hora</label>
                <input type="time" id="hora" name="hora" required
                    class="input-focus w-full p-3 border border-gray-300 rounded-lg">
            </div>
        </div>

        <div>
            <label class="block text-sm font-semibold mb-1">DescriÃ§Ã£o / Motivo da Consulta</label>
            <textarea id="descricao" name="descricao" rows="4" required placeholder="Descreva o motivo da consulta"
                class="input-focus w-full p-3 border border-gray-300 rounded-lg"></textarea>
        </div>

        <button type="submit"
            class="w-full bg-medical-green hover:bg-green-600 text-white font-bold py-3 rounded-lg text-lg transition duration-200 transform hover:scale-[1.01] shadow-md hover:shadow-lg focus:ring-4 focus:ring-green-500">
            Cadastrar Paciente
        </button>
        </form>

    </main>
    
    <footer class="w-full bg-medical-blue p-4 text-center text-white text-sm shadow-inner mt-auto">
        <p>Â© 2025 AVA Medical Group â€” Todos os direitos reservados</p>
    </footer>


    <script>
        
        // 1. LÃ³gica do Dark Mode
        const toggle = document.getElementById('darkToggle');
        
        // Verifica a preferÃªncia do usuÃ¡rio ou o localStorage (manualmente)
        const loadInitialMode = () => {
             const savedMode = localStorage.getItem('theme');
             if (savedMode === 'dark') {
                document.body.classList.add('dark');
                toggle.textContent = 'â˜€ï¸';
            } else {
                 toggle.textContent = 'ðŸŒ™';
            }
        };

        toggle.addEventListener('click', () => {
            const isDark = document.body.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            toggle.textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
        });
        
        loadInitialMode(); // Carrega o modo ao iniciar a pÃ¡gina


        // 2. LÃ³gica de Busca de CEP (Mantida)
        async function buscarCEP(cep) {
            cep = cep.replace(/\D/g, ''); 
            if (cep.length !== 8) return;

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();

                if (!data.erro) {
                    document.getElementById('bairro').value = data.bairro;
                    document.getElementById('cidade').value = data.localidade;
                    document.getElementById('estado').value = data.uf;
                } else {
                    alert("CEP nÃ£o encontrado!");
                }
            } catch (error) {
                console.error("Erro ao buscar CEP:", error);
                alert("Erro ao buscar CEP!");
            }
        }

        document.getElementById('cep').addEventListener('blur', function() {
            // Remove o traÃ§o para buscar (caso tenha)
            const cepValue = this.value.replace('-', ''); 
            buscarCEP(cepValue);
        });
        
        // 3. FormataÃ§Ã£o de CPF e Telefone
        document.getElementById('cpf').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, ''); 
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value.substring(0, 14);
        });

        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, ''); 
            if (value.length > 2) {
                value = '(' + value.substring(0, 2) + ') ' + value.substring(2);
            }
            if (value.length > 10) {
                 value = value.substring(0, 10) + '-' + value.substring(10);
            }
            e.target.value = value.substring(0, 15);
        });

    </script>
</body>
</html>